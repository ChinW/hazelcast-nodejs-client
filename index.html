<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Hazelcast Node.js Client</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Hazelcast Node.js Client" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://hazelcast.github.io/hazelcast-nodejs-client/hazelcast-nodejs-client/" />
<meta property="og:url" content="http://hazelcast.github.io/hazelcast-nodejs-client/hazelcast-nodejs-client/" />
<meta property="og:site_name" content="Hazelcast Node.js Client" />
<script type="application/ld+json">
{"name":"Hazelcast Node.js Client","@type":"WebSite","url":"http://hazelcast.github.io/hazelcast-nodejs-client/hazelcast-nodejs-client/","headline":"Hazelcast Node.js Client","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/hazelcast-nodejs-client/assets/main.css">
  <link type="application/atom+xml" rel="alternate" href="http://hazelcast.github.io/hazelcast-nodejs-client/hazelcast-nodejs-client/feed.xml" title="Hazelcast Node.js Client" />
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" rel="author" href="/hazelcast-nodejs-client/">Hazelcast Node.js Client</a>

    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
          
            
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home">
  

  <h1 id="table-of-contents">Table of Contents</h1>

<ul>
  <li><a href="#hazelcast-nodejs-client">Hazelcast Node.js Client</a></li>
  <li><a href="#features">Features</a></li>
  <li><a href="#installing-the-client">Installing the Client</a></li>
  <li><a href="#using-the-client">Using the Client</a></li>
  <li><a href="#serialization-considerations">Serialization Considerations</a></li>
  <li><a href="#development">Development</a>
    <ul>
      <li><a href="#building-and-installing-from-sources">Building And Installing from Sources</a></li>
      <li><a href="#using-locally-installed-package">Using Locally Installed Package</a></li>
    </ul>
  </li>
  <li><a href="#testing">Testing</a>
    <ul>
      <li><a href="#testing-prerequisites">Testing Prerequisites</a></li>
      <li><a href="#running-the-tests">Running the Tests</a></li>
    </ul>
  </li>
  <li><a href="#release-notes">Release Notes</a></li>
  <li><a href="#mail-group">Mail Group</a></li>
  <li><a href="#license">License</a></li>
  <li><a href="#copyright">Copyright</a></li>
</ul>

<h1 id="hazelcast-nodejs-client">Hazelcast Node.js Client</h1>

<blockquote>
  <p><strong>NOTE: This project is currently in active development.</strong></p>
</blockquote>

<p><a href="https://gitter.im/hazelcast-incubator/hazelcast-nodejs-client?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Join the chat at https://gitter.im/hazelcast-incubator/hazelcast-nodejs-client" /></a>
<br />&lt;/br&gt;</p>

<p>This document explains Node.js client for Hazelcast which uses Hazelcastâ€™s Open Client Protocol 1.6. This client works with Hazelcast 3.6 and higher.</p>

<p><strong>Hazelcast</strong> is a clustering and highly scalable data distribution platform. With its various distributed data structures, distributed caching capabilities, elastic nature and more importantly with so many happy users, Hazelcast is a feature-rich, enterprise-ready and developer-friendly in-memory data grid solution.</p>

<h1 id="features">Features</h1>

<p>Hazelcast Node.js client supports the following data structures and features:</p>

<ul>
  <li>Map</li>
  <li>Queue</li>
  <li>Set</li>
  <li>List</li>
  <li>Multi Map</li>
  <li>Replicated Map</li>
  <li>Ringbuffer</li>
  <li>Reliable Topic</li>
  <li>Near Cache support for Map</li>
  <li>Lock</li>
  <li>Semaphore</li>
  <li>Atomic Long</li>
  <li>Event Listeners</li>
  <li>Entry Processors</li>
  <li>Predicates</li>
  <li>Smart Client</li>
  <li>Unisocket Client</li>
  <li>Hazelcast Native Serialization</li>
  <li>Lifecycle Service</li>
  <li>SSL connection support (requires enterprise server)</li>
</ul>

<h1 id="installing-the-client">Installing the Client</h1>

<p>Following command installs Hazelcast Node.js client:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install hazelcast-client --save
</code></pre></div></div>

<h1 id="using-the-client">Using the Client</h1>

<p>Hazelcast Node.js Client connects to a Hazelcast IMDG cluster. See <a href="https://hazelcast.org/download/">https://hazelcast.org/download/</a>.</p>

<p>Following script illustrates a basic example in which a map is created in Hazelcast Node.js client and an entry is added to that map:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">HazelcastClient</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'hazelcast-client'</span><span class="p">).</span><span class="nx">Client</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">firstName</span><span class="p">:</span> <span class="s2">"Joe"</span><span class="p">,</span>
    <span class="na">lastName</span><span class="p">:</span> <span class="s2">"Doe"</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="mi">42</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">map</span><span class="p">;</span>
<span class="nx">HazelcastClient</span><span class="p">.</span><span class="nx">newHazelcastClient</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">hazelcastClient</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">map</span> <span class="o">=</span> <span class="nx">hazelcastClient</span><span class="p">.</span><span class="nx">getMap</span><span class="p">(</span><span class="s2">"personMap"</span><span class="p">);</span>
    <span class="nx">map</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nx">person</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// prints previous value for key `1`</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="nx">map</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">})</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Please see Hazelcast Node.js <a href="https://github.com/hazelcast/hazelcast-nodejs-client/tree/master/code_samples">code samples</a> for more examples.</p>

<p>You can also refer to Hazelcast Node.js <a href="http://hazelcast.github.io/hazelcast-nodejs-client/api/current/docs/">API Documentation</a>.</p>

<h1 id="serialization-considerations">Serialization Considerations</h1>

<p>Hazelcast needs to serialize objects in order to be able to keep them in the server memory. For primitive types, it uses Hazelcast native serialization. For other complex types (e.g. JS objects), it uses JSON serialization.</p>

<p>For example, when you try to query your data using predicates, this querying is handled on the server side so Hazelcast does not have to bring all data to the client but only the relevant entries. Otherwise, there would be a lot of unneccessary data traffic between the client and the server and the performance would severely drop.
Because predicates run on the server side, the server should be able to reason about your objects. That is why you need to implement serialization on the server side.</p>

<p>The same applies to MapStore. The server should be able to deserialize your objects in order to store them in MapStore.</p>

<p>Regarding arrays in a serializable object, you can use methods like <code class="highlighter-rouge">writeIntArray</code> if the array is of a primitive type.</p>

<p>If you have nested objects, these nested objects also need to be serializable. Register the serializers for nested objects and the method <code class="highlighter-rouge">writeObject</code> will not have any problem with finding a suitable serializer for and writing/reading the nested object.</p>

<p>If you have arrays of custom objects, you can serialize/deserialize them like the following:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">writeData</span><span class="p">(</span><span class="nx">dataOutput</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="nx">dataOutput</span><span class="p">.</span><span class="nx">writeInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">arrayOfCustomObjects</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">arrayOfCustomObjects</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">dataOutput</span><span class="p">.</span><span class="nx">writeObject</span><span class="p">(</span><span class="nx">element</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="nx">readData</span><span class="p">(</span><span class="nx">dataInput</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="kd">var</span> <span class="nx">arrayOfCustomObjects</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">var</span> <span class="nx">lenOfArray</span> <span class="o">=</span> <span class="nx">dataInput</span><span class="p">.</span><span class="nx">readInt</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">lenOfArray</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">arrayOfCustomObjects</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">dataInput</span><span class="p">.</span><span class="nx">readObject</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">arrayOfCustomObjects</span> <span class="o">=</span> <span class="nx">arrayOfCustomObjects</span><span class="p">;</span>
    <span class="p">...</span>
<span class="p">}</span>
</code></pre></div></div>

<h1 id="development">Development</h1>

<h2 id="building-and-installing-from-sources">Building And Installing from Sources</h2>

<p>Follow the below steps to build and install Hazelcast Node.js client from its source:</p>

<ul>
  <li>Clone the GitHub repository <a href="https://github.com/hazelcast/hazelcast-nodejs-client.git">https://github.com/hazelcast/hazelcast-nodejs-client.git</a>.</li>
  <li>Install the dependencies using the command <code class="highlighter-rouge">npm install</code>.</li>
  <li>Compile TypeScript using the command <code class="highlighter-rouge">npm run compile</code>.</li>
  <li>Link the package locally using the command <code class="highlighter-rouge">npm link</code>.</li>
  <li>Run static analysis tool using the command <code class="highlighter-rouge">npm run lint</code></li>
</ul>

<h2 id="using-locally-installed-package">Using Locally Installed Package</h2>

<ul>
  <li>Change directory to the project directory.</li>
  <li>Use a locally linked module: <code class="highlighter-rouge">npm link hazelcast-client</code>.</li>
  <li>Tryout the example shown in <a href="#using-the-client">Using the Client</a> section.</li>
</ul>

<h1 id="testing">Testing</h1>

<h2 id="testing-prerequisites">Testing Prerequisites</h2>

<ul>
  <li><a href="http://www.oracle.com/technetwork/java/javase/downloads/server-jre8-downloads-2133154.html">Java 6+</a></li>
  <li>
    <p>Maven</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Maven automatically downloads hazelcast-remote-controller and hazelcast from maven repository.
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="running-the-tests">Running the Tests</h2>

<p>Following command starts the tests:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm test
</code></pre></div></div>

<h1 id="release-notes">Release Notes</h1>

<p>You can see the release notes for each release on the <a href="https://github.com/hazelcast/hazelcast-nodejs-client/releases">Releases</a> page.</p>

<h1 id="mail-group">Mail Group</h1>

<p>Please join the mail group if you are interested in using or developing Hazelcast.</p>

<p>http://groups.google.com/group/hazelcast</p>

<h1 id="license">License</h1>

<p>Hazelcast is available under the Apache 2 License. Please see the <a href="http://docs.hazelcast.org/docs/latest/manual/html-single/index.html#license-questions">Licensing appendix</a> for more information.</p>

<h1 id="copyright">Copyright</h1>

<p>Copyright (c) 2008-2018, Hazelcast, Inc. All Rights Reserved.</p>

<p>Visit <a href="http://www.hazelcast.com">www.hazelcast.com</a> for more information.</p>


  

</div>

      </div>
    </main>

    <footer class="site-footer h-card">
  <data class="u-url" href="/hazelcast-nodejs-client/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Hazelcast Node.js Client</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">
            
              Hazelcast Node.js Client
            
            </li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
  
  
  
  <li><a href="https://github.com/hazelcast"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">hazelcast</span></a></li>
  
  
  
  <li><a href="https://www.twitter.com/hazelcast"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">hazelcast</span></a></li>
  
  
  
</ul>

      </div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
